{"ast":null,"code":"var width,\n    height,\n    container,\n    canvas,\n    ctx,\n    points,\n    target,\n    animateHeader = true;\n\nfunction init() {\n  initHeader();\n  initAnimation();\n  addListeners();\n}\n\nfunction initHeader() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  target = {\n    x: width / 2,\n    y: height / 2\n  };\n  container = document.getElementById('connecting-dots');\n  container.style.height = height + 'px';\n  canvas = document.getElementById('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  ctx = canvas.getContext('2d'); // create points\n\n  points = [];\n\n  for (var x = 0; x < width; x = x + width / 20) {\n    for (var y = 0; y < height; y = y + height / 20) {\n      var px = x + Math.random() * width / 100;\n      var py = y + Math.random() * height / 100;\n      var p = {\n        x: px,\n        originX: px,\n        y: py,\n        originY: py\n      };\n      points.push(p);\n    }\n  } // for each point find the 5 closest points\n\n\n  for (var i = 0; i < points.length; i++) {\n    var closest = [];\n    var p1 = points[i];\n\n    for (var j = 0; j < points.length; j++) {\n      var p2 = points[j];\n\n      if (!(p1 == p2)) {\n        var placed = false;\n\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (closest[k] == undefined) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n      }\n    }\n\n    p1.closest = closest;\n  } // assign a circle to each point\n\n\n  for (var i in points) {\n    var c = new Circle(points[i], 2 + Math.random() * 2, 'rgba(255,255,255,0.9)');\n    points[i].circle = c;\n  }\n} // Event handling\n\n\nfunction addListeners() {\n  if (!('ontouchstart' in window)) {//  window.addEventListener(\"mousemove\", mouseMove);\n  }\n\n  window.addEventListener(\"resize\", resize, true);\n  window.addEventListener(\"scroll\", scrollCheck);\n}\n\nfunction mouseMove(e) {\n  var posx = posy = 0;\n\n  if (e.pageX || e.pageY) {\n    posx = e.pageX;\n    posy = e.pageY;\n  } else if (e.clientX || e.clientY) {\n    posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n\n  target.x = posx;\n  target.y = posy;\n}\n\nfunction scrollCheck() {\n  if (document.body.scrollTop > height) animateHeader = false;else animateHeader = true;\n}\n\nfunction resize() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  container.style.height = height + 'px';\n  ctx.canvas.width = width;\n  ctx.canvas.height = height;\n} // animation\n\n\nfunction initAnimation() {\n  animate();\n\n  for (var i in points) {\n    shiftPoint(points[i]);\n  }\n}\n\nfunction animate() {\n  if (animateHeader) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    for (var i in points) {\n      // detect points in range\n      if (Math.abs(getDistance(target, points[i])) < 4000) {\n        points[i].active = 0.3;\n        points[i].circle.active = 0.6;\n      } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n        points[i].active = 0.1;\n        points[i].circle.active = 0.3;\n      } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n        points[i].active = 0.02;\n        points[i].circle.active = 0.1;\n      } else {\n        points[i].active = 0;\n        points[i].circle.active = 0;\n      }\n\n      drawLines(points[i]);\n      points[i].circle.draw();\n    }\n  }\n\n  requestAnimationFrame(animate);\n}\n\nfunction shiftPoint(p) {\n  TweenLite.to(p, 1 + 1 * Math.random(), {\n    x: p.originX - 50 + Math.random() * 100,\n    y: p.originY - 50 + Math.random() * 100,\n    ease: Circ.easeInOut,\n    onComplete: function onComplete() {\n      shiftPoint(p);\n    }\n  });\n} // Canvas manipulation\n\n\nfunction drawLines(p) {\n  if (!p.active) return;\n\n  for (var i in p.closest) {\n    ctx.beginPath();\n    ctx.moveTo(p.x, p.y);\n    ctx.lineTo(p.closest[i].x, p.closest[i].y);\n    ctx.strokeStyle = 'rgba(255,255,255,' + p.active + ')';\n    ctx.stroke();\n  }\n}\n\nfunction Circle(pos, rad, color) {\n  var _this = this; // constructor\n\n\n  (function () {\n    _this.pos = pos || null;\n    _this.radius = rad || null;\n    _this.color = color || null;\n  })();\n\n  this.draw = function () {\n    if (!_this.active) return;\n    ctx.beginPath();\n    ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'rgba(255,255,255,' + _this.active + ')';\n    ctx.fill();\n  };\n} // Util\n\n\nfunction getDistance(p1, p2) {\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n}\n\ninit();\n;\n\n(function (window) {\n  'use strict'; //FIND IP\n\n  function findIP(onNewIP) {\n    //  onNewIp - your listener function for new IPs\n    var myPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection; //compatibility for firefox and chrome\n\n    var pc = new myPeerConnection({\n      iceServers: []\n    }),\n        noop = function noop() {},\n        localIPs = {},\n        ipRegex = /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,\n        key;\n\n    function ipIterate(ip) {\n      if (!localIPs[ip]) onNewIP(ip);\n      localIPs[ip] = true;\n    }\n\n    pc.createDataChannel(\"\"); //create a bogus data channel\n\n    pc.createOffer(function (sdp) {\n      sdp.sdp.split('\\n').forEach(function (line) {\n        if (line.indexOf('candidate') < 0) return;\n        line.match(ipRegex).forEach(ipIterate);\n      });\n      pc.setLocalDescription(sdp, noop, noop);\n    }, noop); // create offer and set local description\n\n    pc.onicecandidate = function (ice) {\n      //listen for candidate events\n      if (!ice || !ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate.match(ipRegex)) return;\n      ice.candidate.candidate.match(ipRegex).forEach(ipIterate);\n    };\n  }\n\n  function addIP(ip) {\n    console.log('got ip: ', ip);\n    var theIp = document.getElementById('ip');\n    var theConsole = $('span.console');\n    var texted = ip;\n    theIp.textContent = ip;\n    theConsole.html(texted);\n  }\n\n  findIP(addIP); //FIND LOCATIOn\n\n  $.getJSON('https://ipapi.co/' + $(ip).val() + '/json', function (data) {\n    $('.country').text(data.country);\n  });\n\n  (function () {\n    var theConsole = $('span.console');\n    var texted = $(\"#ip\").text();\n    theConsole.html(texted);\n  });\n\n  var search_form = document.getElementsByClassName('search__form');\n  console.log(search_form);\n\n  function createHome() {\n    var homeDiv = document.createElement('div');\n    homeDiv.innerHTML = '<div class=\"home_container\"><h2>I am hungry</h2><p>Shall we go eat?</p><div class=\"close_home\" href=\"\">x</div></div>';\n    homeDiv.setAttribute('class', 'home');\n    document.body.appendChild(homeDiv);\n    $('.close_home').click(function () {\n      $('.home').remove();\n      console.log('Home Erased');\n    });\n  }\n\n  var navigationLink = $('.terminal__line a');\n  navigationLink.click(function (e) {\n    if ($(this).hasClass('out')) {\n      window.open('http://instagram.com/arcticben.co.uk');\n    } else {\n      createHome();\n    }\n  });\n  $(search_form).submit(function (event) {\n    if ('aboutme' === $(\"input\").val() || 'codelab' === $(\"input\").val() || 'contact' === $(\"input\").val() || 'gethacked' === $(\"input\").val() || 'blog' === $(\"input\").val() || 'home' === $(\"input\").val()) {\n      createHome();\n    } else if ($(\"input\").val() === \"instagram\") {\n      window.open('http://instagram.com/arcticben.co.uk');\n    } else if ($(\"input\").val() === \"ipconfig\") {\n      var binder = $('input').val();\n      var terminal_div = document.getElementsByClassName('terminal');\n      $('.terminal').addClass(\"binding\");\n      var theipagain = $('#ip').html();\n      var ipconfig = document.createElement('p');\n      $(ipconfig).text('ipconfig: ' + theipagain);\n      ipconfig.setAttribute('class', 'terminal__line');\n      $(ipconfig).appendTo(terminal_div);\n      console.log(ipconfig.length);\n    }\n\n    var binder = $('input').val();\n    var terminal_div = document.getElementsByClassName('terminal');\n    $('.terminal').addClass(\"binding\");\n    var commands = document.createElement('p');\n    commands.innerHTML = 'Execute: ' + binder;\n    commands.setAttribute('class', 'terminal__line');\n    $(commands).appendTo(terminal_div);\n    event.preventDefault();\n  });\n})(window);","map":{"version":3,"sources":["/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/src/components/Dots.js"],"names":["width","height","container","canvas","ctx","points","target","animateHeader","init","initHeader","initAnimation","addListeners","window","innerWidth","innerHeight","x","y","document","getElementById","style","getContext","px","Math","random","py","p","originX","originY","push","i","length","closest","p1","j","p2","placed","k","undefined","getDistance","c","Circle","circle","addEventListener","resize","scrollCheck","mouseMove","e","posx","posy","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","animate","shiftPoint","clearRect","abs","active","drawLines","draw","requestAnimationFrame","TweenLite","to","ease","Circ","easeInOut","onComplete","beginPath","moveTo","lineTo","strokeStyle","stroke","pos","rad","color","_this","radius","arc","PI","fillStyle","fill","pow","findIP","onNewIP","myPeerConnection","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","pc","iceServers","noop","localIPs","ipRegex","key","ipIterate","ip","createDataChannel","createOffer","sdp","split","forEach","line","indexOf","match","setLocalDescription","onicecandidate","ice","candidate","addIP","console","log","theIp","theConsole","$","texted","textContent","html","getJSON","val","data","text","country","search_form","getElementsByClassName","createHome","homeDiv","createElement","innerHTML","setAttribute","appendChild","click","remove","navigationLink","hasClass","open","submit","event","binder","terminal_div","addClass","theipagain","ipconfig","appendTo","commands","preventDefault"],"mappings":"AAAA,IAAIA,KAAJ;AAAA,IAAWC,MAAX;AAAA,IAAmBC,SAAnB;AAAA,IAA8BC,MAA9B;AAAA,IAAsCC,GAAtC;AAAA,IAA2CC,MAA3C;AAAA,IAAmDC,MAAnD;AAAA,IAA2DC,aAAa,GAAG,IAA3E;;AAEA,SAASC,IAAT,GAAgB;AACdC,EAAAA,UAAU;AACVC,EAAAA,aAAa;AACbC,EAAAA,YAAY;AACb;;AAED,SAASF,UAAT,GAAsB;AACpBT,EAAAA,KAAK,GAAGY,MAAM,CAACC,UAAf;AACAZ,EAAAA,MAAM,GAAGW,MAAM,CAACE,WAAhB;AACAR,EAAAA,MAAM,GAAG;AACPS,IAAAA,CAAC,EAAEf,KAAK,GAAG,CADJ;AAEPgB,IAAAA,CAAC,EAAEf,MAAM,GAAG;AAFL,GAAT;AAKAC,EAAAA,SAAS,GAAGe,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAZ;AACAhB,EAAAA,SAAS,CAACiB,KAAV,CAAgBlB,MAAhB,GAAyBA,MAAM,GAAG,IAAlC;AAEAE,EAAAA,MAAM,GAAGc,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAT;AACAf,EAAAA,MAAM,CAACH,KAAP,GAAeA,KAAf;AACAG,EAAAA,MAAM,CAACF,MAAP,GAAgBA,MAAhB;AACAG,EAAAA,GAAG,GAAGD,MAAM,CAACiB,UAAP,CAAkB,IAAlB,CAAN,CAdoB,CAgBpB;;AACAf,EAAAA,MAAM,GAAG,EAAT;;AACA,OAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,KAApB,EAA2Be,CAAC,GAAGA,CAAC,GAAGf,KAAK,GAAG,EAA3C,EAA+C;AAC7C,SAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,MAApB,EAA4Be,CAAC,GAAGA,CAAC,GAAGf,MAAM,GAAG,EAA7C,EAAiD;AAC/C,UAAIoB,EAAE,GAAGN,CAAC,GAAGO,IAAI,CAACC,MAAL,KAAgBvB,KAAhB,GAAwB,GAArC;AACA,UAAIwB,EAAE,GAAGR,CAAC,GAAGM,IAAI,CAACC,MAAL,KAAgBtB,MAAhB,GAAyB,GAAtC;AACA,UAAIwB,CAAC,GAAG;AACNV,QAAAA,CAAC,EAAEM,EADG;AAENK,QAAAA,OAAO,EAAEL,EAFH;AAGNL,QAAAA,CAAC,EAAEQ,EAHG;AAING,QAAAA,OAAO,EAAEH;AAJH,OAAR;AAMAnB,MAAAA,MAAM,CAACuB,IAAP,CAAYH,CAAZ;AACD;AACF,GA9BmB,CAgCpB;;;AACA,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGxB,MAAM,CAACyB,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,QAAIE,OAAO,GAAG,EAAd;AACA,QAAIC,EAAE,GAAG3B,MAAM,CAACwB,CAAD,CAAf;;AACA,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG5B,MAAM,CAACyB,MAA3B,EAAmCG,CAAC,EAApC,EAAwC;AACtC,UAAIC,EAAE,GAAG7B,MAAM,CAAC4B,CAAD,CAAf;;AACA,UAAI,EAAED,EAAE,IAAIE,EAAR,CAAJ,EAAiB;AACf,YAAIC,MAAM,GAAG,KAAb;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,cAAI,CAACD,MAAL,EAAa;AACX,gBAAIJ,OAAO,CAACK,CAAD,CAAP,IAAcC,SAAlB,EAA6B;AAC3BN,cAAAA,OAAO,CAACK,CAAD,CAAP,GAAaF,EAAb;AACAC,cAAAA,MAAM,GAAG,IAAT;AACD;AACF;AACF;;AAED,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1B,cAAI,CAACD,MAAL,EAAa;AACX,gBAAIG,WAAW,CAACN,EAAD,EAAKE,EAAL,CAAX,GAAsBI,WAAW,CAACN,EAAD,EAAKD,OAAO,CAACK,CAAD,CAAZ,CAArC,EAAuD;AACrDL,cAAAA,OAAO,CAACK,CAAD,CAAP,GAAaF,EAAb;AACAC,cAAAA,MAAM,GAAG,IAAT;AACD;AACF;AACF;AACF;AACF;;AACDH,IAAAA,EAAE,CAACD,OAAH,GAAaA,OAAb;AACD,GA5DmB,CA8DpB;;;AACA,OAAK,IAAIF,CAAT,IAAcxB,MAAd,EAAsB;AACpB,QAAIkC,CAAC,GAAG,IAAIC,MAAJ,CAAWnC,MAAM,CAACwB,CAAD,CAAjB,EAAsB,IAAIP,IAAI,CAACC,MAAL,KAAgB,CAA1C,EAA6C,uBAA7C,CAAR;AACAlB,IAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUY,MAAV,GAAmBF,CAAnB;AACD;AACF,C,CAED;;;AACA,SAAS5B,YAAT,GAAwB;AACtB,MAAI,EAAE,kBAAkBC,MAApB,CAAJ,EAAiC,CACjC;AACC;;AACDA,EAAAA,MAAM,CAAC8B,gBAAP,CAAwB,QAAxB,EAAkCC,MAAlC,EAA0C,IAA1C;AACA/B,EAAAA,MAAM,CAAC8B,gBAAP,CAAwB,QAAxB,EAAkCE,WAAlC;AACD;;AAED,SAASC,SAAT,CAAmBC,CAAnB,EAAsB;AACpB,MAAIC,IAAI,GAAGC,IAAI,GAAG,CAAlB;;AACA,MAAIF,CAAC,CAACG,KAAF,IAAWH,CAAC,CAACI,KAAjB,EAAwB;AACtBH,IAAAA,IAAI,GAAGD,CAAC,CAACG,KAAT;AACAD,IAAAA,IAAI,GAAGF,CAAC,CAACI,KAAT;AACD,GAHD,MAGO,IAAIJ,CAAC,CAACK,OAAF,IAAaL,CAAC,CAACM,OAAnB,EAA4B;AACjCL,IAAAA,IAAI,GAAGD,CAAC,CAACK,OAAF,GAAYlC,QAAQ,CAACoC,IAAT,CAAcC,UAA1B,GAAuCrC,QAAQ,CAACsC,eAAT,CAAyBD,UAAvE;AACAN,IAAAA,IAAI,GAAGF,CAAC,CAACM,OAAF,GAAYnC,QAAQ,CAACoC,IAAT,CAAcG,SAA1B,GAAsCvC,QAAQ,CAACsC,eAAT,CAAyBC,SAAtE;AACD;;AACDlD,EAAAA,MAAM,CAACS,CAAP,GAAWgC,IAAX;AACAzC,EAAAA,MAAM,CAACU,CAAP,GAAWgC,IAAX;AACD;;AAED,SAASJ,WAAT,GAAuB;AACrB,MAAI3B,QAAQ,CAACoC,IAAT,CAAcG,SAAd,GAA0BvD,MAA9B,EAAsCM,aAAa,GAAG,KAAhB,CAAtC,KACKA,aAAa,GAAG,IAAhB;AACN;;AAED,SAASoC,MAAT,GAAkB;AAChB3C,EAAAA,KAAK,GAAGY,MAAM,CAACC,UAAf;AACAZ,EAAAA,MAAM,GAAGW,MAAM,CAACE,WAAhB;AACAZ,EAAAA,SAAS,CAACiB,KAAV,CAAgBlB,MAAhB,GAAyBA,MAAM,GAAG,IAAlC;AACAG,EAAAA,GAAG,CAACD,MAAJ,CAAWH,KAAX,GAAmBA,KAAnB;AACAI,EAAAA,GAAG,CAACD,MAAJ,CAAWF,MAAX,GAAoBA,MAApB;AACD,C,CAED;;;AACA,SAASS,aAAT,GAAyB;AACvB+C,EAAAA,OAAO;;AACP,OAAK,IAAI5B,CAAT,IAAcxB,MAAd,EAAsB;AACpBqD,IAAAA,UAAU,CAACrD,MAAM,CAACwB,CAAD,CAAP,CAAV;AACD;AACF;;AAED,SAAS4B,OAAT,GAAmB;AACjB,MAAIlD,aAAJ,EAAmB;AACjBH,IAAAA,GAAG,CAACuD,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBxD,MAAM,CAACH,KAA3B,EAAkCG,MAAM,CAACF,MAAzC;;AACA,SAAK,IAAI4B,CAAT,IAAcxB,MAAd,EAAsB;AACpB;AACA,UAAIiB,IAAI,CAACsC,GAAL,CAAStB,WAAW,CAAChC,MAAD,EAASD,MAAM,CAACwB,CAAD,CAAf,CAApB,IAA2C,IAA/C,EAAqD;AACnDxB,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUgC,MAAV,GAAmB,GAAnB;AACAxD,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUY,MAAV,CAAiBoB,MAAjB,GAA0B,GAA1B;AACD,OAHD,MAGO,IAAIvC,IAAI,CAACsC,GAAL,CAAStB,WAAW,CAAChC,MAAD,EAASD,MAAM,CAACwB,CAAD,CAAf,CAApB,IAA2C,KAA/C,EAAsD;AAC3DxB,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUgC,MAAV,GAAmB,GAAnB;AACAxD,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUY,MAAV,CAAiBoB,MAAjB,GAA0B,GAA1B;AACD,OAHM,MAGA,IAAIvC,IAAI,CAACsC,GAAL,CAAStB,WAAW,CAAChC,MAAD,EAASD,MAAM,CAACwB,CAAD,CAAf,CAApB,IAA2C,KAA/C,EAAsD;AAC3DxB,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUgC,MAAV,GAAmB,IAAnB;AACAxD,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUY,MAAV,CAAiBoB,MAAjB,GAA0B,GAA1B;AACD,OAHM,MAGA;AACLxD,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUgC,MAAV,GAAmB,CAAnB;AACAxD,QAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUY,MAAV,CAAiBoB,MAAjB,GAA0B,CAA1B;AACD;;AAEDC,MAAAA,SAAS,CAACzD,MAAM,CAACwB,CAAD,CAAP,CAAT;AACAxB,MAAAA,MAAM,CAACwB,CAAD,CAAN,CAAUY,MAAV,CAAiBsB,IAAjB;AACD;AACF;;AACDC,EAAAA,qBAAqB,CAACP,OAAD,CAArB;AACD;;AAED,SAASC,UAAT,CAAoBjC,CAApB,EAAuB;AACrBwC,EAAAA,SAAS,CAACC,EAAV,CAAazC,CAAb,EAAgB,IAAI,IAAIH,IAAI,CAACC,MAAL,EAAxB,EAAuC;AACrCR,IAAAA,CAAC,EAAEU,CAAC,CAACC,OAAF,GAAY,EAAZ,GAAiBJ,IAAI,CAACC,MAAL,KAAgB,GADC;AAErCP,IAAAA,CAAC,EAAES,CAAC,CAACE,OAAF,GAAY,EAAZ,GAAiBL,IAAI,CAACC,MAAL,KAAgB,GAFC;AAGrC4C,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAH0B;AAIrCC,IAAAA,UAAU,EAAE,sBAAW;AACrBZ,MAAAA,UAAU,CAACjC,CAAD,CAAV;AACD;AANoC,GAAvC;AAQD,C,CAED;;;AACA,SAASqC,SAAT,CAAmBrC,CAAnB,EAAsB;AACpB,MAAI,CAACA,CAAC,CAACoC,MAAP,EAAe;;AACf,OAAK,IAAIhC,CAAT,IAAcJ,CAAC,CAACM,OAAhB,EAAyB;AACvB3B,IAAAA,GAAG,CAACmE,SAAJ;AACAnE,IAAAA,GAAG,CAACoE,MAAJ,CAAW/C,CAAC,CAACV,CAAb,EAAgBU,CAAC,CAACT,CAAlB;AACAZ,IAAAA,GAAG,CAACqE,MAAJ,CAAWhD,CAAC,CAACM,OAAF,CAAUF,CAAV,EAAad,CAAxB,EAA2BU,CAAC,CAACM,OAAF,CAAUF,CAAV,EAAab,CAAxC;AACAZ,IAAAA,GAAG,CAACsE,WAAJ,GAAkB,sBAAsBjD,CAAC,CAACoC,MAAxB,GAAiC,GAAnD;AACAzD,IAAAA,GAAG,CAACuE,MAAJ;AACD;AACF;;AAED,SAASnC,MAAT,CAAgBoC,GAAhB,EAAqBC,GAArB,EAA0BC,KAA1B,EAAiC;AAC/B,MAAIC,KAAK,GAAG,IAAZ,CAD+B,CAG/B;;;AACA,GAAC,YAAW;AACVA,IAAAA,KAAK,CAACH,GAAN,GAAYA,GAAG,IAAI,IAAnB;AACAG,IAAAA,KAAK,CAACC,MAAN,GAAeH,GAAG,IAAI,IAAtB;AACAE,IAAAA,KAAK,CAACD,KAAN,GAAcA,KAAK,IAAI,IAAvB;AACD,GAJD;;AAMA,OAAKf,IAAL,GAAY,YAAW;AACrB,QAAI,CAACgB,KAAK,CAAClB,MAAX,EAAmB;AACnBzD,IAAAA,GAAG,CAACmE,SAAJ;AACAnE,IAAAA,GAAG,CAAC6E,GAAJ,CAAQF,KAAK,CAACH,GAAN,CAAU7D,CAAlB,EAAqBgE,KAAK,CAACH,GAAN,CAAU5D,CAA/B,EAAkC+D,KAAK,CAACC,MAAxC,EAAgD,CAAhD,EAAmD,IAAI1D,IAAI,CAAC4D,EAA5D,EAAgE,KAAhE;AACA9E,IAAAA,GAAG,CAAC+E,SAAJ,GAAgB,sBAAsBJ,KAAK,CAAClB,MAA5B,GAAqC,GAArD;AACAzD,IAAAA,GAAG,CAACgF,IAAJ;AACD,GAND;AAOD,C,CAED;;;AACA,SAAS9C,WAAT,CAAqBN,EAArB,EAAyBE,EAAzB,EAA6B;AAC3B,SAAOZ,IAAI,CAAC+D,GAAL,CAASrD,EAAE,CAACjB,CAAH,GAAOmB,EAAE,CAACnB,CAAnB,EAAsB,CAAtB,IAA2BO,IAAI,CAAC+D,GAAL,CAASrD,EAAE,CAAChB,CAAH,GAAOkB,EAAE,CAAClB,CAAnB,EAAsB,CAAtB,CAAlC;AACD;;AAEDR,IAAI;AAGJ;;AAAC,CAAC,UAASI,MAAT,EAAiB;AAElB,eAFkB,CAIjB;;AAEA,WAAS0E,MAAT,CAAgBC,OAAhB,EAAyB;AAAE;AACzB,QAAIC,gBAAgB,GAAG5E,MAAM,CAAC6E,iBAAP,IAA4B7E,MAAM,CAAC8E,oBAAnC,IAA2D9E,MAAM,CAAC+E,uBAAzF,CADuB,CAC2F;;AAClH,QAAIC,EAAE,GAAG,IAAIJ,gBAAJ,CAAqB;AAACK,MAAAA,UAAU,EAAE;AAAb,KAArB,CAAT;AAAA,QACEC,IAAI,GAAG,SAAPA,IAAO,GAAW,CAAE,CADtB;AAAA,QAEEC,QAAQ,GAAG,EAFb;AAAA,QAGEC,OAAO,GAAG,iEAHZ;AAAA,QAIEC,GAJF;;AAMA,aAASC,SAAT,CAAmBC,EAAnB,EAAuB;AACrB,UAAI,CAACJ,QAAQ,CAACI,EAAD,CAAb,EAAmBZ,OAAO,CAACY,EAAD,CAAP;AACnBJ,MAAAA,QAAQ,CAACI,EAAD,CAAR,GAAe,IAAf;AACD;;AACDP,IAAAA,EAAE,CAACQ,iBAAH,CAAqB,EAArB,EAZuB,CAYG;;AAC1BR,IAAAA,EAAE,CAACS,WAAH,CAAe,UAASC,GAAT,EAAc;AAC3BA,MAAAA,GAAG,CAACA,GAAJ,CAAQC,KAAR,CAAc,IAAd,EAAoBC,OAApB,CAA4B,UAASC,IAAT,EAAe;AACzC,YAAIA,IAAI,CAACC,OAAL,CAAa,WAAb,IAA4B,CAAhC,EAAmC;AACnCD,QAAAA,IAAI,CAACE,KAAL,CAAWX,OAAX,EAAoBQ,OAApB,CAA4BN,SAA5B;AACD,OAHD;AAIAN,MAAAA,EAAE,CAACgB,mBAAH,CAAuBN,GAAvB,EAA4BR,IAA5B,EAAkCA,IAAlC;AACD,KAND,EAMGA,IANH,EAbuB,CAmBb;;AACVF,IAAAA,EAAE,CAACiB,cAAH,GAAoB,UAASC,GAAT,EAAc;AAAE;AAClC,UAAI,CAACA,GAAD,IAAQ,CAACA,GAAG,CAACC,SAAb,IAA0B,CAACD,GAAG,CAACC,SAAJ,CAAcA,SAAzC,IAAsD,CAACD,GAAG,CAACC,SAAJ,CAAcA,SAAd,CAAwBJ,KAAxB,CAA8BX,OAA9B,CAA3D,EAAmG;AACnGc,MAAAA,GAAG,CAACC,SAAJ,CAAcA,SAAd,CAAwBJ,KAAxB,CAA8BX,OAA9B,EAAuCQ,OAAvC,CAA+CN,SAA/C;AACD,KAHD;AAID;;AAEH,WAASc,KAAT,CAAeb,EAAf,EAAmB;AACjBc,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBf,EAAxB;AAED,QAAIgB,KAAK,GAAGlG,QAAQ,CAACC,cAAT,CAAwB,IAAxB,CAAZ;AACA,QAAIkG,UAAU,GAAGC,CAAC,CAAC,cAAD,CAAlB;AACA,QAAIC,MAAM,GAAGnB,EAAb;AAECgB,IAAAA,KAAK,CAACI,WAAN,GAAoBpB,EAApB;AAIDiB,IAAAA,UAAU,CAACI,IAAX,CAAgBF,MAAhB;AAEA;;AAEDhC,EAAAA,MAAM,CAAC0B,KAAD,CAAN,CA/CmB,CAiDnB;;AAGAK,EAAAA,CAAC,CAACI,OAAF,CAAU,sBAAoBJ,CAAC,CAAClB,EAAD,CAAD,CAAMuB,GAAN,EAApB,GAAgC,OAA1C,EAAmD,UAASC,IAAT,EAAc;AAE3DN,IAAAA,CAAC,CAAC,UAAD,CAAD,CAAcO,IAAd,CAAmBD,IAAI,CAACE,OAAxB;AACH,GAHH;;AAMC,GAAC,YAAW;AAEX,QAAIT,UAAU,GAAGC,CAAC,CAAC,cAAD,CAAlB;AACA,QAAIC,MAAM,GAAGD,CAAC,CAAC,KAAD,CAAD,CAASO,IAAT,EAAb;AAEAR,IAAAA,UAAU,CAACI,IAAX,CAAgBF,MAAhB;AACA,GAND;;AAQD,MAAIQ,WAAW,GAAG7G,QAAQ,CAAC8G,sBAAT,CAAgC,cAAhC,CAAlB;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAYY,WAAZ;;AAIA,WAASE,UAAT,GAAqB;AAEnB,QAAIC,OAAO,GAAGhH,QAAQ,CAACiH,aAAT,CAAuB,KAAvB,CAAd;AACMD,IAAAA,OAAO,CAACE,SAAR,GAAoB,sHAApB;AACAF,IAAAA,OAAO,CAACG,YAAR,CAAqB,OAArB,EAA8B,MAA9B;AACAnH,IAAAA,QAAQ,CAACoC,IAAT,CAAcgF,WAAd,CAA0BJ,OAA1B;AAEAZ,IAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBiB,KAAjB,CAAuB,YAAU;AAC7BjB,MAAAA,CAAC,CAAC,OAAD,CAAD,CAAWkB,MAAX;AACAtB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH,KAHD;AAMP;;AAGD,MAAIsB,cAAc,GAAGnB,CAAC,CAAC,mBAAD,CAAtB;AAEAmB,EAAAA,cAAc,CAACF,KAAf,CAAqB,UAASxF,CAAT,EAAW;AAC9B,QAAIuE,CAAC,CAAC,IAAD,CAAD,CAAQoB,QAAR,CAAiB,KAAjB,CAAJ,EAA6B;AAC3B7H,MAAAA,MAAM,CAAC8H,IAAP,CAAY,sCAAZ;AACD,KAFD,MAGA;AACAV,MAAAA,UAAU;AACT;AACF,GAPD;AAWCX,EAAAA,CAAC,CAACS,WAAD,CAAD,CAAea,MAAf,CAAsB,UAAUC,KAAV,EAAkB;AACtC,QAAK,cAAcvB,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,EAAd,IAAoC,cAAcL,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,EAAlD,IAAyE,cAAcL,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,EAAvF,IAA6G,gBAAgBL,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,EAA7H,IAAmJ,WAAWL,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,EAA9J,IAAoL,WAAYL,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,EAArM,EAAyN;AAExNM,MAAAA,UAAU;AAEV,KAJD,MAIO,IAAKX,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,OAAuB,WAA5B,EAA0C;AAChD9G,MAAAA,MAAM,CAAC8H,IAAP,CAAY,sCAAZ;AACC,KAFK,MAEC,IAAIrB,CAAC,CAAE,OAAF,CAAD,CAAaK,GAAb,OAAuB,UAA3B,EAAuC;AAE1C,UAAImB,MAAM,GAAGxB,CAAC,CAAC,OAAD,CAAD,CAAWK,GAAX,EAAb;AACA,UAAIoB,YAAY,GAAG7H,QAAQ,CAAC8G,sBAAT,CAAgC,UAAhC,CAAnB;AACIV,MAAAA,CAAC,CAAC,WAAD,CAAD,CAAe0B,QAAf,CAAwB,SAAxB;AACJ,UAAIC,UAAU,GAAG3B,CAAC,CAAC,KAAD,CAAD,CAASG,IAAT,EAAjB;AAEA,UAAIyB,QAAQ,GAAGhI,QAAQ,CAACiH,aAAT,CAAuB,GAAvB,CAAf;AACMb,MAAAA,CAAC,CAAC4B,QAAD,CAAD,CAAYrB,IAAZ,CAAiB,eAAeoB,UAAhC;AACAC,MAAAA,QAAQ,CAACb,YAAT,CAAsB,OAAtB,EAA+B,gBAA/B;AACAf,MAAAA,CAAC,CAAC4B,QAAD,CAAD,CAAYC,QAAZ,CAAqBJ,YAArB;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAY+B,QAAQ,CAACnH,MAArB;AAEP;;AAEL,QAAI+G,MAAM,GAAGxB,CAAC,CAAC,OAAD,CAAD,CAAWK,GAAX,EAAb;AACA,QAAIoB,YAAY,GAAG7H,QAAQ,CAAC8G,sBAAT,CAAgC,UAAhC,CAAnB;AACEV,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAe0B,QAAf,CAAwB,SAAxB;AAEF,QAAII,QAAQ,GAAGlI,QAAQ,CAACiH,aAAT,CAAuB,GAAvB,CAAf;AACGiB,IAAAA,QAAQ,CAAChB,SAAT,GAAsB,cAAcU,MAApC;AACAM,IAAAA,QAAQ,CAACf,YAAT,CAAsB,OAAtB,EAA+B,gBAA/B;AACAf,IAAAA,CAAC,CAAC8B,QAAD,CAAD,CAAYD,QAAZ,CAAqBJ,YAArB;AAMFF,IAAAA,KAAK,CAACQ,cAAN;AACF,GApCA;AAwCA,CA5IA,EA4IExI,MA5IF","sourcesContent":["var width, height, container, canvas, ctx, points, target, animateHeader = true;\n\nfunction init() {\n  initHeader();\n  initAnimation();\n  addListeners();\n}\n\nfunction initHeader() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  target = {\n    x: width / 2,\n    y: height / 2\n  };\n\n  container = document.getElementById('connecting-dots');\n  container.style.height = height + 'px';\n\n  canvas = document.getElementById('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  ctx = canvas.getContext('2d');\n\n  // create points\n  points = [];\n  for (var x = 0; x < width; x = x + width / 20) {\n    for (var y = 0; y < height; y = y + height / 20) {\n      var px = x + Math.random() * width / 100;\n      var py = y + Math.random() * height / 100;\n      var p = {\n        x: px,\n        originX: px,\n        y: py,\n        originY: py\n      };\n      points.push(p);\n    }\n  }\n\n  // for each point find the 5 closest points\n  for (var i = 0; i < points.length; i++) {\n    var closest = [];\n    var p1 = points[i];\n    for (var j = 0; j < points.length; j++) {\n      var p2 = points[j]\n      if (!(p1 == p2)) {\n        var placed = false;\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (closest[k] == undefined) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n      }\n    }\n    p1.closest = closest;\n  }\n\n  // assign a circle to each point\n  for (var i in points) {\n    var c = new Circle(points[i], 2 + Math.random() * 2, 'rgba(255,255,255,0.9)');\n    points[i].circle = c;\n  }\n}\n\n// Event handling\nfunction addListeners() {\n  if (!('ontouchstart' in window)) {\n  //  window.addEventListener(\"mousemove\", mouseMove);\n  }\n  window.addEventListener(\"resize\", resize, true);\n  window.addEventListener(\"scroll\", scrollCheck);\n}\n\nfunction mouseMove(e) {\n  var posx = posy = 0;\n  if (e.pageX || e.pageY) {\n    posx = e.pageX;\n    posy = e.pageY;\n  } else if (e.clientX || e.clientY) {\n    posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n  target.x = posx;\n  target.y = posy;\n}\n\nfunction scrollCheck() {\n  if (document.body.scrollTop > height) animateHeader = false;\n  else animateHeader = true;\n}\n\nfunction resize() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  container.style.height = height + 'px';\n  ctx.canvas.width = width;\n  ctx.canvas.height = height;\n}\n\n// animation\nfunction initAnimation() {\n  animate();\n  for (var i in points) {\n    shiftPoint(points[i]);\n  }\n}\n\nfunction animate() {\n  if (animateHeader) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    for (var i in points) {\n      // detect points in range\n      if (Math.abs(getDistance(target, points[i])) < 4000) {\n        points[i].active = 0.3;\n        points[i].circle.active = 0.6;\n      } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n        points[i].active = 0.1;\n        points[i].circle.active = 0.3;\n      } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n        points[i].active = 0.02;\n        points[i].circle.active = 0.1;\n      } else {\n        points[i].active = 0;\n        points[i].circle.active = 0;\n      }\n\n      drawLines(points[i]);\n      points[i].circle.draw();\n    }\n  }\n  requestAnimationFrame(animate);\n}\n\nfunction shiftPoint(p) {\n  TweenLite.to(p, 1 + 1 * Math.random(), {\n    x: p.originX - 50 + Math.random() * 100,\n    y: p.originY - 50 + Math.random() * 100,\n    ease: Circ.easeInOut,\n    onComplete: function() {\n      shiftPoint(p);\n    }\n  });\n}\n\n// Canvas manipulation\nfunction drawLines(p) {\n  if (!p.active) return;\n  for (var i in p.closest) {\n    ctx.beginPath();\n    ctx.moveTo(p.x, p.y);\n    ctx.lineTo(p.closest[i].x, p.closest[i].y);\n    ctx.strokeStyle = 'rgba(255,255,255,' + p.active + ')';\n    ctx.stroke();\n  }\n}\n\nfunction Circle(pos, rad, color) {\n  var _this = this;\n\n  // constructor\n  (function() {\n    _this.pos = pos || null;\n    _this.radius = rad || null;\n    _this.color = color || null;\n  })();\n\n  this.draw = function() {\n    if (!_this.active) return;\n    ctx.beginPath();\n    ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'rgba(255,255,255,' + _this.active + ')';\n    ctx.fill();\n  };\n}\n\n// Util\nfunction getDistance(p1, p2) {\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n}\n\ninit();\n\n\n;(function(window) {\n\n\t'use strict';\n\n\t\t//FIND IP\n\n\t\tfunction findIP(onNewIP) { //  onNewIp - your listener function for new IPs\n\t\t  var myPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection; //compatibility for firefox and chrome\n\t\t  var pc = new myPeerConnection({iceServers: []}),\n\t\t    noop = function() {},\n\t\t    localIPs = {},\n\t\t    ipRegex = /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,\n\t\t    key;\n\n\t\t  function ipIterate(ip) {\n\t\t    if (!localIPs[ip]) onNewIP(ip);\n\t\t    localIPs[ip] = true;\n\t\t  }\n\t\t  pc.createDataChannel(\"\"); //create a bogus data channel\n\t\t  pc.createOffer(function(sdp) {\n\t\t    sdp.sdp.split('\\n').forEach(function(line) {\n\t\t      if (line.indexOf('candidate') < 0) return;\n\t\t      line.match(ipRegex).forEach(ipIterate);\n\t\t    });\n\t\t    pc.setLocalDescription(sdp, noop, noop);\n\t\t  }, noop); // create offer and set local description\n\t\t  pc.onicecandidate = function(ice) { //listen for candidate events\n\t\t    if (!ice || !ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate.match(ipRegex)) return;\n\t\t    ice.candidate.candidate.match(ipRegex).forEach(ipIterate);\n\t\t  };\n\t\t}\n\nfunction addIP(ip) {\n  console.log('got ip: ', ip);\n\n\tvar theIp = document.getElementById('ip');\n\tvar theConsole = $('span.console');\n\tvar texted = ip;\n\n  theIp.textContent = ip;\n\n\n\n\ttheConsole.html(texted);\n\n}\n\nfindIP(addIP);\n\n//FIND LOCATIOn\n\n\n$.getJSON('https://ipapi.co/'+$(ip).val()+'/json', function(data){\n\n      $('.country').text(data.country);\n  });\n\n\n\t(function() {\n\n\t\tvar theConsole = $('span.console');\n\t\tvar texted = $(\"#ip\").text();\n\n\t\ttheConsole.html(texted);\n\t});\n\nvar search_form = document.getElementsByClassName('search__form');\nconsole.log(search_form);\n\n\n\nfunction createHome(){\n\n  var homeDiv = document.createElement('div');\n        homeDiv.innerHTML = '<div class=\"home_container\"><h2>I am hungry</h2><p>Shall we go eat?</p><div class=\"close_home\" href=\"\">x</div></div>';\n        homeDiv.setAttribute('class', 'home');\n        document.body.appendChild(homeDiv);\n\n        $('.close_home').click(function(){\n            $('.home').remove();\n            console.log('Home Erased');\n        });\n\n\n}\n\n\nvar navigationLink = $('.terminal__line a');\n\nnavigationLink.click(function(e){\n  if ($(this).hasClass('out')) {\n    window.open('http://instagram.com/arcticben.co.uk');\n  }else\n  {\n  createHome();\n  }\n});\n\n\n\n\t$(search_form).submit(function( event ) {\n\t  if ( 'aboutme' === $( \"input\" ).val() || 'codelab' === $( \"input\" ).val() ||  'contact' === $( \"input\" ).val() || 'gethacked' === $( \"input\" ).val() || 'blog' === $( \"input\" ).val() || 'home'  === $( \"input\" ).val()) {\n\n    createHome();\n\n\t  } else if ( $( \"input\" ).val() === \"instagram\" ) {\n\t\t\t\twindow.open('http://instagram.com/arcticben.co.uk');\n  \t\t} else if ($( \"input\" ).val() === \"ipconfig\") {\n\n        var binder = $('input').val();\n        var terminal_div = document.getElementsByClassName('terminal');\n            $('.terminal').addClass(\"binding\");\n        var theipagain = $('#ip').html();\n\n        var ipconfig = document.createElement('p');\n              $(ipconfig).text('ipconfig: ' + theipagain);\n              ipconfig.setAttribute('class', 'terminal__line');\n              $(ipconfig).appendTo(terminal_div);\n              console.log(ipconfig.length);\n\n      }\n\n\t\tvar binder = $('input').val();\n\t\tvar terminal_div = document.getElementsByClassName('terminal');\n\t\t\t\t$('.terminal').addClass(\"binding\");\n\n\t\tvar commands = document.createElement('p');\n\t\t\t\t\tcommands.innerHTML = ('Execute: ' + binder);\n\t\t\t\t\tcommands.setAttribute('class', 'terminal__line');\n\t\t\t\t\t$(commands).appendTo(terminal_div);\n\n\n\n\n\n\t  event.preventDefault();\n});\n\n\n\n})(window);"]},"metadata":{},"sourceType":"module"}