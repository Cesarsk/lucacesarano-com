{"ast":null,"code":"import _classCallCheck from \"/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/src/components/Dots.js\";\nimport React, { Component } from 'react';\nimport '../styles/Dots.css';\n\nvar Dots =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dots, _React$Component);\n\n  function Dots() {\n    _classCallCheck(this, Dots);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Dots).apply(this, arguments));\n  }\n\n  _createClass(Dots, [{\n    key: \"render\",\n    value: function render() {\n      init();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Dots;\n}(React.Component);\n\nexport { Dots as default };\nvar width,\n    height,\n    container,\n    canvas,\n    ctx,\n    points,\n    target,\n    animateHeader = true;\nvar posx, posy;\n\nfunction init() {\n  initHeader();\n  initAnimation();\n  addListeners();\n}\n\nfunction initHeader() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  target = {\n    x: width / 2,\n    y: height / 2\n  };\n  container = document.getElementById('connecting-dots');\n  container.style.height = height + 'px';\n  canvas = document.getElementById('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  ctx = canvas.getContext('2d'); // create points\n\n  points = [];\n\n  for (var x = 0; x < width; x = x + width / 20) {\n    for (var y = 0; y < height; y = y + height / 20) {\n      var px = x + Math.random() * width / 100;\n      var py = y + Math.random() * height / 100;\n      var p = {\n        x: px,\n        originX: px,\n        y: py,\n        originY: py\n      };\n      points.push(p);\n    }\n  } // for each point find the 5 closest points\n\n\n  for (var i = 0; i < points.length; i++) {\n    var closest = [];\n    var p1 = points[i];\n\n    for (var j = 0; j < points.length; j++) {\n      var p2 = points[j];\n\n      if (!(p1 == p2)) {\n        var placed = false;\n\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (closest[k] == undefined) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n      }\n    }\n\n    p1.closest = closest;\n  } // assign a circle to each point\n\n\n  for (var i in points) {\n    var c = new Circle(points[i], 2 + Math.random() * 2, 'rgba(255,255,255,0.9)');\n    points[i].circle = c;\n  }\n} // Event handling\n\n\nfunction addListeners() {\n  if (!('ontouchstart' in window)) {//  window.addEventListener(\"mousemove\", mouseMove);\n  }\n\n  window.addEventListener(\"resize\", resize, true);\n  window.addEventListener(\"scroll\", scrollCheck);\n}\n\nfunction mouseMove(e) {\n  var posx = posy = 0;\n\n  if (e.pageX || e.pageY) {\n    posx = e.pageX;\n    posy = e.pageY;\n  } else if (e.clientX || e.clientY) {\n    posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n\n  target.x = posx;\n  target.y = posy;\n}\n\nfunction scrollCheck() {\n  if (document.body.scrollTop > height) animateHeader = false;else animateHeader = true;\n}\n\nfunction resize() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  container.style.height = height + 'px';\n  ctx.canvas.width = width;\n  ctx.canvas.height = height;\n} // animation\n\n\nfunction initAnimation() {\n  animate();\n\n  for (var i in points) {\n    shiftPoint(points[i]);\n  }\n}\n\nfunction animate() {\n  if (animateHeader) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    for (var i in points) {\n      // detect points in range\n      if (Math.abs(getDistance(target, points[i])) < 4000) {\n        points[i].active = 0.3;\n        points[i].circle.active = 0.6;\n      } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n        points[i].active = 0.1;\n        points[i].circle.active = 0.3;\n      } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n        points[i].active = 0.02;\n        points[i].circle.active = 0.1;\n      } else {\n        points[i].active = 0;\n        points[i].circle.active = 0;\n      }\n\n      drawLines(points[i]);\n      points[i].circle.draw();\n    }\n  }\n\n  requestAnimationFrame(animate);\n}\n\nfunction shiftPoint(p) {\n  TweenLite.to(p, 1 + 1 * Math.random(), {\n    x: p.originX - 50 + Math.random() * 100,\n    y: p.originY - 50 + Math.random() * 100,\n    ease: Circ.easeInOut,\n    onComplete: function onComplete() {\n      shiftPoint(p);\n    }\n  });\n} // Canvas manipulation\n\n\nfunction drawLines(p) {\n  if (!p.active) return;\n\n  for (var i in p.closest) {\n    ctx.beginPath();\n    ctx.moveTo(p.x, p.y);\n    ctx.lineTo(p.closest[i].x, p.closest[i].y);\n    ctx.strokeStyle = 'rgba(255,255,255,' + p.active + ')';\n    ctx.stroke();\n  }\n}\n\nfunction Circle(pos, rad, color) {\n  var _this = this; // constructor\n\n\n  (function () {\n    _this.pos = pos || null;\n    _this.radius = rad || null;\n    _this.color = color || null;\n  })();\n\n  this.draw = function () {\n    if (!_this.active) return;\n    ctx.beginPath();\n    ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'rgba(255,255,255,' + _this.active + ')';\n    ctx.fill();\n  };\n} // Util\n\n\nfunction getDistance(p1, p2) {\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n}","map":{"version":3,"sources":["/Users/cesarsk/Projects/Web Design/JS/lucacesarano-com/src/components/Dots.js"],"names":["React","Component","Dots","init","width","height","container","canvas","ctx","points","target","animateHeader","posx","posy","initHeader","initAnimation","addListeners","window","innerWidth","innerHeight","x","y","document","getElementById","style","getContext","px","Math","random","py","p","originX","originY","push","i","length","closest","p1","j","p2","placed","k","undefined","getDistance","c","Circle","circle","addEventListener","resize","scrollCheck","mouseMove","e","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop","animate","shiftPoint","clearRect","abs","active","drawLines","draw","requestAnimationFrame","TweenLite","to","ease","Circ","easeInOut","onComplete","beginPath","moveTo","lineTo","strokeStyle","stroke","pos","rad","color","_this","radius","arc","PI","fillStyle","fill","pow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../styles/Dots.css'\n\nexport default class Dots extends React.Component {\n\n  render() {\n\ninit();\n\n    return (<div></div>);\n  }\n}\n\nvar width, height, container, canvas, ctx, points, target, animateHeader = true;\nvar posx, posy;\nfunction init() {\n  initHeader();\n  initAnimation();\n  addListeners();\n}\n\nfunction initHeader() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  target = {\n    x: width / 2,\n    y: height / 2\n  };\n\n  container = document.getElementById('connecting-dots');\n  container.style.height = height + 'px';\n\n  canvas = document.getElementById('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  ctx = canvas.getContext('2d');\n\n  // create points\n  points = [];\n  for (var x = 0; x < width; x = x + width / 20) {\n    for (var y = 0; y < height; y = y + height / 20) {\n      var px = x + Math.random() * width / 100;\n      var py = y + Math.random() * height / 100;\n      var p = {\n        x: px,\n        originX: px,\n        y: py,\n        originY: py\n      };\n      points.push(p);\n    }\n  }\n\n  // for each point find the 5 closest points\n  for (var i = 0; i < points.length; i++) {\n    var closest = [];\n    var p1 = points[i];\n    for (var j = 0; j < points.length; j++) {\n      var p2 = points[j]\n      if (!(p1 == p2)) {\n        var placed = false;\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (closest[k] == undefined) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n\n        for (var k = 0; k < 5; k++) {\n          if (!placed) {\n            if (getDistance(p1, p2) < getDistance(p1, closest[k])) {\n              closest[k] = p2;\n              placed = true;\n            }\n          }\n        }\n      }\n    }\n    p1.closest = closest;\n  }\n\n  // assign a circle to each point\n  for (var i in points) {\n    var c = new Circle(points[i], 2 + Math.random() * 2, 'rgba(255,255,255,0.9)');\n    points[i].circle = c;\n  }\n}\n\n// Event handling\nfunction addListeners() {\n  if (!('ontouchstart' in window)) {\n    //  window.addEventListener(\"mousemove\", mouseMove);\n  }\n  window.addEventListener(\"resize\", resize, true);\n  window.addEventListener(\"scroll\", scrollCheck);\n}\n\nfunction mouseMove(e) {\n  var posx = posy = 0;\n  if (e.pageX || e.pageY) {\n    posx = e.pageX;\n    posy = e.pageY;\n  } else if (e.clientX || e.clientY) {\n    posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n  target.x = posx;\n  target.y = posy;\n}\n\nfunction scrollCheck() {\n  if (document.body.scrollTop > height) animateHeader = false;\n  else animateHeader = true;\n}\n\nfunction resize() {\n  width = window.innerWidth;\n  height = window.innerHeight;\n  container.style.height = height + 'px';\n  ctx.canvas.width = width;\n  ctx.canvas.height = height;\n}\n\n// animation\nfunction initAnimation() {\n  animate();\n  for (var i in points) {\n    shiftPoint(points[i]);\n  }\n}\n\nfunction animate() {\n  if (animateHeader) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    for (var i in points) {\n      // detect points in range\n      if (Math.abs(getDistance(target, points[i])) < 4000) {\n        points[i].active = 0.3;\n        points[i].circle.active = 0.6;\n      } else if (Math.abs(getDistance(target, points[i])) < 20000) {\n        points[i].active = 0.1;\n        points[i].circle.active = 0.3;\n      } else if (Math.abs(getDistance(target, points[i])) < 40000) {\n        points[i].active = 0.02;\n        points[i].circle.active = 0.1;\n      } else {\n        points[i].active = 0;\n        points[i].circle.active = 0;\n      }\n\n      drawLines(points[i]);\n      points[i].circle.draw();\n    }\n  }\n  requestAnimationFrame(animate);\n}\n\nfunction shiftPoint(p) {\n  TweenLite.to(p, 1 + 1 * Math.random(), {\n    x: p.originX - 50 + Math.random() * 100,\n    y: p.originY - 50 + Math.random() * 100,\n    ease: Circ.easeInOut,\n    onComplete: function () {\n      shiftPoint(p);\n    }\n  });\n}\n\n// Canvas manipulation\nfunction drawLines(p) {\n  if (!p.active) return;\n  for (var i in p.closest) {\n    ctx.beginPath();\n    ctx.moveTo(p.x, p.y);\n    ctx.lineTo(p.closest[i].x, p.closest[i].y);\n    ctx.strokeStyle = 'rgba(255,255,255,' + p.active + ')';\n    ctx.stroke();\n  }\n}\n\nfunction Circle(pos, rad, color) {\n  var _this = this;\n\n  // constructor\n  (function () {\n    _this.pos = pos || null;\n    _this.radius = rad || null;\n    _this.color = color || null;\n  })();\n\n  this.draw = function () {\n    if (!_this.active) return;\n    ctx.beginPath();\n    ctx.arc(_this.pos.x, _this.pos.y, _this.radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'rgba(255,255,255,' + _this.active + ')';\n    ctx.fill();\n  };\n}\n\n// Util\nfunction getDistance(p1, p2) {\n  return Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2);\n}\n\n"]},"metadata":{},"sourceType":"module"}